var Contexto2018=function(){};Contexto2018.prototype=function(){var W=7091;var V=10700;var S=20261;var R=25000;var Q=36856;var P=80640;var m=0.145;var q=0.23;var s=0.285;var z=0.35;var I=0.37;var O=0.45;var Y=0.48;var b=1028.2;var K=830.07;var af=2724.89;var u=1658.65;var ac=4386.72;var p=19702.8;var ah=0.28;var N=0.2;var k=0.025;var j=0.05;var i=80000;var f=250000;var e=4250;var o=4104;var y=0.75;var t=0.15;var L=726;var G=600;var J=635;var aa=525;var v=475;var E=428.9;var X=E*1.5*14;var ad=11320;var d=15560;var h=10000;var l=8120;var ag=580;var g=function(){var ak=parseFloat(rendimentoDependente)+parseFloat(rendimentoIndependente)+parseFloat(rendimentoCapital)+parseFloat(rendimentoPredial)+parseFloat(rendimentoPensoes);console.log("Rendimento Total: "+ak);var ai=a();console.log("Rendimento Colectavel: "+ai);var at=r(ai);console.log("Imposto Solidariedade: "+at);var aj=M();console.log("Quociente Familiar: "+aj);var am=ai/aj;console.log("Rendimento Colectavel Corrigido: "+am);var ap=n(am);console.log("Imposto Apurado: "+ap);var au=ap*aj;console.log("Colecta Total: "+au);var ao=au+at;console.log("Colecta Apurada Total: "+ao);var aq=C(ai);console.log("Deducoes a Colecta: "+aq);var ar=w(ao,aq);console.log("Imposto Final: "+ar);if(ar<0){ar=0}if(rendimentoCapital==0&&rendimentoPredial==0){var an=dependentes+dependentes3Anos;if(an<3){var al=ak-ar;if(al<X){ar=ak-X;if(ar<0){ar=0}}}else{if(an<5){if(ai<ad){ar=0}}else{if(ai<d){ar=0}}}}console.log("Imposto Final apos Minimo de Existencia: "+ar);$("#impostoAPagar").val(ar.formatMoney(2)+" €");$("#taxaEfectiva").val(((ar/ak)*100).toFixed(2)+" %");$("#totalLiquido").val((ak-ar).formatMoney(2)+" €");return ar},a=function(){return H(rendimentoDependente)+F(rendimentoIndependente)+D(rendimentoCapital)+B(rendimentoPredial)+A(rendimentoPensoes)},H=function(ai){if(ai<=o){return 0}else{return parseFloat(ai)-o}},F=function(am){if(am<=0){return 0}else{ai=parseFloat(am);if(propriedadeIntelectual){var ai=0;var ak=am*0.5;if(ak>h){ak=h}ai=parseFloat(am)-ak}var aj=ai*t;var an=o+parseFloat(valorDespesasCatB);var al=aj-an;if(al<0){al=0}return(ai*y)+al}},D=function(aj){perdasCapitais=0;if(aj<=0){return 0}else{var ai=parseFloat(aj)-parseFloat(perdasCapitais);if(ai<0){return 0}else{return ai}}},B=function(aj){if(aj<=0){return 0}else{var ai=aj-condominios-obras-impostoMunicipalImoveis;if(ai<=0){return 0}else{return ai}}},A=function(ai){if(ai<=o){return 0}else{return parseFloat(ai)-o}},r=function(aj){var ai;if(aj>i&&aj<=f){console.log("Taxa de Solidariedade 1");ai=(aj-i)*k;console.log(ai);return ai}else{if(aj>f){console.log("Taxa de Solidariedade 2");ai=((aj-f)*j)+e;console.log(ai);return ai}else{return 0}}},M=function(){return numContribuintes},n=function(aj){var ai;if(aj<=0){console.log("Nao paga imposto");return 0}if(aj<=W){console.log("escalao1");ai=(aj*m);console.log(ai);return ai}else{if(aj>W&&aj<=V){console.log("escalao2");ai=(((aj-W)*q)+b);console.log(ai);return ai}else{if(aj>V&&aj<=S){console.log("escalao3");ai=(((aj-V)*s)+b+K);return ai}else{if(aj>S&&aj<=R){console.log("escalao4");ai=(((aj-S)*z)+b+K+af);return ai}else{if(aj>R&&aj<=Q){console.log("escalao5");ai=(((aj-R)*I)+b+K+af+u);return ai}else{if(aj>Q&&aj<=P){console.log("escalao6");ai=(((aj-Q)*O)+b+K+af+u+ac);return ai}else{if(aj>P){console.log("escalao7");ai=(((aj-P)*Y)+b+K+af+u+ac+p);return ai}}}}}}}},C=function(aj){var ak=U(despesasSaude);var am=c(despesasEducacao);var ao=ae(despesasIVA);var al=x(despesasGerais);var an=T();var ap=Z();var aq=ab(aj);var ai=ak+am+ao;if(ai>aq&&aq>0){ai=aq}return al+an+ap+ai},U=function(ak){var al=0.15;var aj=1000;var ai=ak*al;if(ai<aj){return ai}else{return aj}},c=function(al){var ak=0.3;var aj=800;var ai=al*ak;if(ai<aj){return ai}else{return aj}},x=function(aj){var al=0.35;var ak=0.45;var am=250;var an=335;var ai;if(familiaMonoparental){ai=aj*ak;if(ai<an){return ai}else{return an}}else{ai=aj*al;if(ai<(am*numContribuintes)){return ai}else{return am*numContribuintes}}},ae=function(ak){var al=0.15;var aj=250;var ai=ak*al;if(ai<aj){return ai}else{return aj}},T=function(){var aj=dependentes3Anos*L;var ai=dependentes*G;return aj+ai},Z=function(){if(ascendentes>1){return aa*ascendentes}else{return J*ascendentes}},ab=function(aj){var ai=-1;if(aj<=W){return ai}else{if(aj>W&&aj<=P){ai=1000+(1500*(P-aj))/(P-W)}else{ai=1000}}if(dependentes>=3){ai+=ai*(0.05*dependentes)}return ai},w=function(aj,ai){return aj-ai};return{algoritmo:g}}();